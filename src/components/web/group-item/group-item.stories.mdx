import { Meta, Props, Story, Preview } from '@storybook/addon-docs/blocks'
import { action } from "@storybook/addon-actions"
import { linkTo } from '@storybook/addon-links'
import GroupItem from './index.vue'
import { withKnobs, number, object, boolean, text, select, date, array, color } from '@storybook/addon-knobs';
import  groupData  from '@/mock/group-item.json'
import {REVIEW_NO_ANSWER, REVIEW_RIGHT_ANSWER,REVIEW_RIGHT_PART_ANSWER, REVIEW_ERROR_ANSWER, REVIEW_NO_REVIEW} from '@/config/subject-config'


<Meta title="web 业务组件|组合题" component={GroupItem} decorators={[withKnobs({escapeHTML:false})]} />

# 组合题

<Props of={GroupItem} /> 

默认状态/未作答 只需要传入题目数据即可。

<Preview>
  <Story name="默认状态">
    {{   
      components: { GroupItem },
       props:{
        dataAppName:{
          default: text('二维码类型',"online_edu_user_web")
        },
        controlIsSingle:{
          default: boolean('单选还是多选',true)
        },
        controlIsGroup:{
          default: boolean('是否显示组合题的小题题目前面的序号',true)
        },
        subdataIndex:{
          default: number('组合题题目子题序号',1)
        },
        dataSubject:{
          default: object('题目数据对象',groupData)
        },
        dataStudentAnswer:{
          default: array('学生本次作答图片列表',[])
        }
      },
      template: `<group-item :dataSubject="dataSubject"   @delanswer="delanswer" :dataAppName="dataAppName"  :dataStudentAnswer="dataStudentAnswer" :controlIsSingle="controlIsSingle" :controlIsGroup="controlIsGroup" @preview="preview"  @particulars="particulars" @choose="choose" :subdataIndex="subdataIndex"></group-item>`,
      methods: { 
        preview: action("preview"),
        particulars: action("particulars"),
        choose: action("choose"),
        delanswer: action("delanswer")
      },
    }} 
  </Story>
</Preview>

传入状态，已作答，待批阅

<Preview>
  <Story name="自定义">
    {{   
      components: { GroupItem },
       props:{
        dataAppName:{
          default: text('二维码类型',"online_edu_user_web")
        },
        controlIsSingle:{
          default: boolean('单选还是多选',true)
        },
        dataWidth:{
          default: number('题目选项宽度，百分比单位',100)
        },
        subdataIndex:{
          default: number('组合题题目子题序号',1)
        },
        controlStatus:{
          default: text('答题状态0/1/2/3 状态',REVIEW_ERROR_ANSWER)
        },
        controlShowStatus:{
          default: boolean('是否显示顶部答题状态',true)
        },
        controlIsGroup:{
          default: boolean('是否显示组合题的小题题目前面的序号',true)
        },
        controlShowTeacherAnswer:{
          default: boolean('是否显示老师批阅',true)
        },
        controlShowSubTitle:{
          default: boolean('是否显示子题目标题',true)
        },
        controlAnswered:{
          default: boolean('状态：已作答还是未作答',false)
        },
        controlTopicRequest:{
          default: boolean('是否显示题目要求',true)
        },
        dataRankSting:{
          default: text('题目标题前显示序号','1/3')
        },
        controlShowTitle:{
          default: boolean('是否显示标题',true)
        },
        controlShowBottom:{
          default: boolean('是否显示底部',true)
        },
         //是否显示主题目分数      
        controlShowScore:{
          default: boolean('是否显示分数',true)
        },
        styleSetClass:{
          default: text('传入的class')
        },
        dataSubject:{
          default: object('题目数据对象',groupData)
        },
        dataStudentAnswer:{
          default: array('学生本次作答图片列表',[])
        }
      },
      template: `<group-item :dataSubject="dataSubject"  @delanswer="delanswer" :dataAppName="dataAppName"  @preview="preview"   @particulars="particulars" @choose="choose"  :controlIsSingle="controlIsSingle" :subdataIndex="subdataIndex"  :controlStatus="controlStatus" :controlShowStatus="controlShowStatus" :controlTopicRequest="controlTopicRequest" :controlShowTitle="controlShowTitle" :controlShowBottom="controlShowBottom"
          :dataRankSting="dataRankSting"  :dataWidth="dataWidth" :dataStudentAnswer="dataStudentAnswer" :controlShowTeacherAnswer="controlShowTeacherAnswer" :controlIsGroup="controlIsGroup" :controlShowSubTitle="controlShowSubTitle" :controlAnswered="controlAnswered" :controlShowScore="controlShowScore" :styleSetClass="styleSetClass"></group-item>`,
          methods: { 
            preview: action("preview"),
            particulars: action("particulars"),
            choose: action("choose"),
            delanswer: action("delanswer")
          },
    }} 
  </Story>
</Preview>
